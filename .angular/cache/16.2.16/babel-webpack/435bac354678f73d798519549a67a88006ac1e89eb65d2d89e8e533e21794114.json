{"ast":null,"code":"import { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/guest/guest.service\";\nimport * as i3 from \"src/app/shared/services/davening.service\";\nimport * as i4 from \"src/app/shared/services/http.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../../../shared/dropdown.directive\";\nfunction GuestEmailComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 13);\n    i0.ɵɵelement(2, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function GuestEmailComponent_div_6_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSaveEmail(ctx_r2.guestEmailForm.get(\"emailInput\").value));\n    });\n    i0.ɵɵtext(5, \"Ok\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.guestEmailForm.get(\"emailInput\").invalid);\n  }\n}\nfunction GuestEmailComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 18)(4, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function GuestEmailComponent_div_7_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onChangeEmail());\n    });\n    i0.ɵɵtext(5, \"Change\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.guestService.guestEmail, \" \");\n  }\n}\nexport let GuestEmailComponent = /*#__PURE__*/(() => {\n  class GuestEmailComponent {\n    constructor(router, guestService, daveningService, httpService) {\n      this.router = router;\n      this.guestService = guestService;\n      this.daveningService = daveningService;\n      this.httpService = httpService;\n      this.addNameMode = false;\n      this.changeEmailAllowed = true;\n    }\n    ngOnInit() {\n      this.guestEmailForm = new UntypedFormGroup({\n        'emailInput': new UntypedFormControl(null, [Validators.required, Validators.email])\n      });\n    }\n    onChangeEmail() {\n      this.changeEmailAllowed = true;\n    }\n    onSaveEmail(newEmail) {\n      this.changeEmailAllowed = false;\n      this.guestService.guestEmail = newEmail;\n      this.guestService.populateGuestDavenfors();\n      this.router.navigate(['guest/names']);\n    }\n    static #_ = this.ɵfac = function GuestEmailComponent_Factory(t) {\n      return new (t || GuestEmailComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GuestService), i0.ɵɵdirectiveInject(i3.DaveningService), i0.ɵɵdirectiveInject(i4.HttpService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: GuestEmailComponent,\n      selectors: [[\"app-guest-email\"]],\n      decls: 20,\n      vars: 3,\n      consts: [[1, \"container\"], [3, \"formGroup\"], [1, \"row\", 2, \"margin-top\", \"15px\"], [1, \"col-xs-2\"], [\"for\", \"newEmail\"], [4, \"ngIf\"], [1, \"col-xs-2\", \"col-xs-offset-1\", \"text-right\"], [\"appDropdown\", \"\", 1, \"dropdown\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", 1, \"btn\", \"btn-primary\", \"dropdown-toggle\", \"same-line\"], [1, \"caret\"], [1, \"dropdown-menu\"], [\"routerLinkActive\", \"active\", \"routerLink\", \"names\", \"click\", \"guestService.clearMessages()\", 2, \"cursor\", \"pointer\"], [\"routerLinkActive\", \"active\", \"routerLink\", \"new\", \"click\", \"guestService.clearMessages()\", 2, \"cursor\", \"pointer\"], [1, \"col-xs-6\"], [\"id\", \"newEmail\", \"type\", \"text\", \"formControlName\", \"emailInput\", \"placeholder\", \"A valid email is required\", 1, \"form-control\"], [1, \"col-xs-1\", \"same-line\"], [1, \"btn\", \"btn-success\", \"form-control\", \"same-line\", 3, \"disabled\", \"click\"], [\"id\", \"guestEmail\", 1, \"col-xs-6\", \"text-center\"], [1, \"col-xs-1\"], [1, \"btn\", \"btn-info\", \"same-line\", 3, \"click\"]],\n      template: function GuestEmailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n          i0.ɵɵtext(5, \"My Email: \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(6, GuestEmailComponent_div_6_Template, 6, 1, \"div\", 5);\n          i0.ɵɵtemplate(7, GuestEmailComponent_div_7_Template, 6, 1, \"div\", 5);\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"button\", 8);\n          i0.ɵɵtext(11, \"Menu \");\n          i0.ɵɵelement(12, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"ul\", 10)(14, \"li\")(15, \"a\", 11);\n          i0.ɵɵtext(16, \"Manage names\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"li\")(18, \"a\", 12);\n          i0.ɵɵtext(19, \"Submit a name\");\n          i0.ɵɵelementEnd()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.guestEmailForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.changeEmailAllowed);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.guestService.guestEmail && !ctx.changeEmailAllowed);\n        }\n      },\n      dependencies: [i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.FormControlName, i7.DropdownDirective, i1.RouterLink, i1.RouterLinkActive],\n      styles: [\"button[_ngcontent-%COMP%]{margin-top:30px}label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-size:x-large}#guestEmail[_ngcontent-%COMP%]{font-size:30px;font-weight:700}.same-line[_ngcontent-%COMP%]{margin-top:0}[_ngcontent-%COMP%]::placeholder{color:#d3d3d3;font-size:20px}\"]\n    });\n  }\n  return GuestEmailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}